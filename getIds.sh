curl -s 'https://www.glasgowfilm.org/graphql' --compressed -X POST -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:122.0) Gecko/20100101 Firefox/122.0' -H 'Accept: */*' -H 'Accept-Language: en-GB,en;q=0.5' -H 'Accept-Encoding: gzip, deflate' -H 'content-type: application/json' -H 'site-id: 103' -H 'client-type: consumer'  -H 'Origin: https://www.glasgowfilm.org' -H 'Connection: keep-alive' -H "Cookie:  ${COOKIE}" -H 'Sec-Fetch-Dest: empty' --data-raw '{"operationName":null,"variables":{"searchString":"","type":"now-playing-and-coming-soon","subtype":"watched","orderBy":"name","descending":false,"limit":130,"titleClassId":null,"titleClassIds":[196,211],"resultVersion":"3960635164"},"query":"query ($limit: Int, $orderBy: String, $descending: Boolean, $searchString: String, $titleClassId: ID, $titleClassIds: [ID], $type: String, $subtype: String) { movies( limit: $limit orderBy: $orderBy descending: $descending searchString: $searchString titleClassId: $titleClassId titleClassIds: $titleClassIds type: $type subtype: $subtype ) { data { id name } count } } "}' | jq 'reduce .data.movies.data[] as $e ({};.+ { ($e.id): $e.name})'
